<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Mainboard">
  
  <resultMap id="treeResultMap" type="Tree">
    <id column="TREE_NO" property="treeNo"/>
    <result column="TREE_AFTER" property="treeAfter"/>
    <result column="TREE_TAG" property="treeTag"/>
  </resultMap>
  
  
  
  <select id="test" resultMap="treeResultMap">
    SELECT R2.*
    FROM(SELECT ROWNUM RNUM, R1.* 
         FROM(SELECT TREE_NO, TREE_AFTER, TREE_TAG
              FROM TREE 
              ORDER BY DBMS_RANDOM.VALUE) R1) R2
    WHERE RNUM BETWEEN 1 AND 42
    
  </select>
  
  <select id="paging" parameterType="java.util.List" resultMap="treeResultMap">
    SELECT R2.*
    FROM(SELECT ROWNUM RNUM, R1.* 
         FROM(SELECT TREE_NO, TREE_AFTER, TREE_TAG
              FROM TREE 
              WHERE TREE_NO NOT IN 
              <foreach item="item" index="index" collection="list" open="(" separator="," close=")">
                #{item}
              </foreach>
              ORDER BY DBMS_RANDOM.VALUE) R1) R2
    WHERE RNUM BETWEEN 1 AND 42
     
      
  </select>

</mapper>